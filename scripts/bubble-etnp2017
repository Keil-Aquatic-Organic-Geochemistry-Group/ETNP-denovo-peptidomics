library(tidyverse)
library(plotly)


# Separate plots for suspened and sinking POM

> bubble <- read_csv(file = "bubble-db-dno-tryp-no.csv")

> suspep <- plot_ly(bubble, x = bubble$Spacer, y = bubble$Depth, mode = "markers", type = "scatter", size = bubble$SusPeptides, marker = list(symbol = 'circle', sizemode = 'diameter', color = bubble$SusMod100, showscale = TRUE, line = list(width = 1, color = "grey"), opacity = 0.4)) %>%
+ layout(title = "Suspended POM peptides", yaxis = list(title = "Depth (m)", showline = TRUE, showgrid = FALSE, autorange = "reversed"), xaxis = list(title = "", showticklabels = FALSE, range = c(0,2.5)))
> suspep


> sinkpep <- plot_ly(bubble, x = bubble$Spacer, y = bubble$Depth, mode = "markers", type = "scatter", size = bubble$SinkPeptides, marker = list(symbol = 'circle', sizemode = 'diameter', color = bubble$SinkMod100, showscale = TRUE, line = list(width = 1, color = "grey"), opacity = 0.4)) %>%
+ layout(title = "Sinking POM peptides", yaxis = list(title = "Depth (m)", showline = TRUE, showgrid = FALSE, autorange = "reversed"), xaxis = list(title = "", showticklabels = FALSE, range = c(0,2.5)))
> sinkpep


# Combined plot for suspended and sinking POM

> combubb <- read_csv(file = "bubble-combined-sus-sink.csv")

> comb <- plot_ly(combubb, x = combubb$Spacer, y = combubb$Depth, mode = "markers", type = "scatter", size = combubb$Peptides, marker = list(symbol = 'circle', sizemode = 'diameter', color = combubb$Mod100, showscale = TRUE, line = list(width = 1, color = "grey"), opacity = 0.4)) %>%
+ layout(title = "", yaxis = list(title = "Depth (m)", showline = TRUE, showgrid = FALSE, autorange = "reversed"), xaxis = list(title = "", showticklabels = FALSE, range = c(0,5)))
> comb